---
// src/components/HeroSection.astro
export interface Props {
  images?: string[];
}

const defaultImages = [
  "/Tourism sector.png",
  "/Textile sector.png",
  "/defense sector.png",
];

const { images = defaultImages } = Astro.props;
---

<section class="relative flex overflow-hidden h-[91vh]">
  <!-- Background Images -->
  <div class="absolute inset-0 z-[-1]">
    {images.map((src, index) => (
      <img
        src={src}
        alt={`Background slide ${index + 1}`}
        class:list={[
          "bg-slide absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out",
          index === 0 ? "opacity-100" : "opacity-0",
        ]}
      />
    ))}
    <div class="absolute inset-0 bg-black/60"></div>
  </div>

  <!-- Hero Content -->
  <div class="relative flex justify-center items-center z-10 w-full h-full px-6">
    <div class="max-w-2xl text-center" style="font-family: 'Poppins', sans-serif;">
      <h1 class="text-4xl font-bold text-white md:text-5xl lg:text-6xl leading-tight">
        Shaping the future of&nbsp;
        <span class="inline-block h-12 md:h-16 lg:h-20 text-blue-400 overflow-hidden relative">
          <ul class="vertical-slider h-full flex flex-col justify-start items-center">
            <li class="w-full flex justify-center items-center">Infrastructure</li>
            <li class="w-full flex justify-center items-center">Industry</li>
            <li class="w-full flex justify-center items-center">Sustainability</li>
            <li class="w-full flex justify-center items-center">Development</li>
            <li class="w-full flex justify-center items-center" aria-hidden="true">Infrastructure</li>
          </ul>
        </span>
      </h1>

      <p class="mt-6 text-gray-200 text-lg">
        Empowering progress through expert Project Management & EPC solutions.
      </p>

      <a href="#Casestudies" class="mt-8 inline-block bg-blue-600 hover:bg-blue-800 text-white px-6 py-3 rounded-md font-medium transition-transform transform">
        Discover Our Projects
      </a>
    </div>
  </div>
</section>

<script is:inline>
  const slides = document.querySelectorAll(".bg-slide");
  if (slides.length > 1) {
    let currentIndex = 0;
    setInterval(() => {
      slides[currentIndex].classList.remove("opacity-100");
      slides[currentIndex].classList.add("opacity-0");
      currentIndex = (currentIndex + 1) % slides.length;
      slides[currentIndex].classList.remove("opacity-0");
      slides[currentIndex].classList.add("opacity-100");
    }, 5000);
  }
</script>

<style is:global>
.vertical-slider {
  display: flex;
  flex-direction: column;
  animation: slideWords 8s ease-in-out infinite;
}

.vertical-slider li {
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

@media (min-width: 768px) { .vertical-slider li { height: 4rem; } }
@media (min-width: 1024px) { .vertical-slider li { height: 5rem; } }

@keyframes slideWords {
  0%, 20% { transform: translateY(0); }
  25%, 45% { transform: translateY(-3rem); }
  50%, 70% { transform: translateY(-6rem); }
  75%, 95% { transform: translateY(-9rem); }
  100% { transform: translateY(-12rem); }
}

@media (min-width: 768px) {
  @keyframes slideWords {
    0%, 20% { transform: translateY(0); }
    25%, 45% { transform: translateY(-4rem); }
    50%, 70% { transform: translateY(-8rem); }
    75%, 95% { transform: translateY(-12rem); }
    100% { transform: translateY(-16rem); }
  }
}

@media (min-width: 1024px) {
  @keyframes slideWords {
    0%, 20% { transform: translateY(0); }
    25%, 45% { transform: translateY(-5rem); }
    50%, 70% { transform: translateY(-10rem); }
    75%, 95% { transform: translateY(-15rem); }
    100% { transform: translateY(-20rem); }
  }
}
</style>

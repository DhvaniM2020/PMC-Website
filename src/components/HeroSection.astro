---
// src/components/HeroSection.astro

// We'll define a prop to accept an array of image URLs.
// We also provide default images so it works out of the box.
export interface Props {
  images?: string[];
}

const defaultImages = [
  'https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=1974&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1492496913980-501348b61469?q=80&w=1887&auto=format&fit=crop' 
];

const { images = defaultImages } = Astro.props;
---

<section class="flex overflow-hidden h-screen">

  <!-- 1. Background Image Slider Container -->
  <div class="absolute inset-0 z-[-1]">
    {images.map((src, index) => (
      <img
        src={src}
        alt={`Background slide ${index + 1}`}
        class:list={[
          "bg-slide absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out",
          // The first image is visible by default, others are hidden
          index === 0 ? 'opacity-100' : 'opacity-0'
        ]}
      />
    ))}
    <!-- Optional: Add a dark overlay to make text more readable -->
    <div class="absolute inset-0 bg-black/50"></div>
  </div>

  <!-- 2. Your Hero Content (now with white text) -->
  <div class="flex justify-center  items-center  z-10 w-full h-full mx-auto px-6 py-16">
    <div class=" max-w-2xl text-center" style="font-family: 'Poppins'">
      <h1 class="text-4xl  font-bold text-white md:text-5xl lg:text-6xl">
        Innovating the Future of <span class="text-primary">Agriculture</span>
      </h1>
      <p class="mt-6 text-gray-200 text-lg ">
        Harnessing technology to build a sustainable and productive future for farming worldwide.
      </p>
      <button class="mt-6 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium transition">Discover Our Solutions</button>
    </div>
  </div>

</section>

<!-- 3. The JavaScript to power the slider -->
<script>
  // Select all the images with the .bg-slide class
  const slides = document.querySelectorAll('.bg-slide');
  let currentIndex = 0;

  function showNextSlide() {
    // Hide the current slide
    slides[currentIndex].classList.remove('opacity-100');
    slides[currentIndex].classList.add('opacity-0');

    // Calculate the index of the next slide, looping back to 0
    currentIndex = (currentIndex + 1) % slides.length;

    // Show the next slide
    slides[currentIndex].classList.remove('opacity-0');
    slides[currentIndex].classList.add('opacity-100');
  }

  // Change slide every 5 seconds (5000 milliseconds)
  setInterval(showNextSlide, 5000);
</script>